# __dnevnik-spb-bot__

__Телеграм бот для использования электронного дневника Санкт-Петербурга, минуя веб-версию__

[Бот](https://t.me/SpbDnevnikBot)

 Удобный бот для использования дневника в Телеграме.

 ## __Демонстрация__
___

![Приветствие](./screenshot/photo_2022-05-02_15-42-58.jpg)
![Оценки](./screenshot/photo_2022-05-02_15-49-00.jpg)
![Оценки](./screenshot/photo_2022-05-02_15-49-01.jpg)![Расписание](./screenshot/photo_2022-05-02_15-49-04.jpg)

## __О проекте__
___
* Бот написан на языке программирования Golang c использованием многопоточности.
* Для сообщения с сайтом использует тот-же api что и сайт дневника
* В качестве базы данных используется встраиваемая SQlite
https://github.com/mattn/go-sqlite3

При авторизации забирает куку по которой впоследствии ходит на сайт как пользователь.

Так же забирает id всех учеников связанных с аккаунтом для переключения между ними по команде.

По id и куке собирает информацию для вывода в телеграме.

Идею я позаимствовал из этого проекта - https://github.com/romanrakhlin/dnevnik-spb

## __Дополнительно__
___
После компиляции для запуска бота потребуется json файл в корне каталога следущего содержания:

```

{
    "TelegramBotToken": "<Токен_бота>",
    "TelegramHostClient": "api.telegram.org",
    "DnevnikHostClient" : "dnevnik2.petersburgedu.ru",
    "DnevnikBasePath": "api",
    "StoragePath": "<название_базы_данных>.db"
}

```
